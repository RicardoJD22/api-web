
---
import BentoCard from "./BentoCard.astro";
import ImageCarousel from "./ImageCarousel.jsx";
import WeatherCard from "./WeatherCard.jsx";
import EventosCard from "./EventosCard.jsx";
import GuiaMaleconCard from "./GuiaMaleconCard.jsx";
import CoverflowGallery from "./CoverflowGallery.jsx";
---
<style>
.bento-glow {
  position: relative;
  z-index: 0;
}
.bento-glow::after {
  content: "";
  position: absolute;
  top: -4px; left: -4px; right: -4px; bottom: -4px;
  border-radius: 1.7rem;
  border: 4px solid;
  border-image: linear-gradient(120deg, #ffe066, #f87171, #60a5fa, #34d399, #f472b6, #ffe066) 1;
  pointer-events: none;
  z-index: 10;
  animation: border-glow 2.5s linear infinite;
}
@keyframes border-glow {
  0% { border-image-source: linear-gradient(120deg, #ffe066, #f87171, #60a5fa, #34d399, #f472b6, #ffe066); }
  100% { border-image-source: linear-gradient(480deg, #ffe066, #f87171, #60a5fa, #34d399, #f472b6, #ffe066); }
}
</style>



<main class="h-[100vh] w-full grid grid-cols-3 grid-rows-3 gap-10 p-12 bg-gray-900 select-none">
  <BentoCard
    href="survey"
    class="bento-glow col-span-1 row-span-1 flex flex-col justify-end relative shadow-2xl rounded-3xl overflow-hidden hover:scale-105 transition-transform duration-300 min-h-[20rem]"
    title=""
    description=""
    gradient="to-t from-[#10312B] to-transparent"
  >
    <figure slot="image" aria-label="Encuesta" class="absolute left-0 top-0 bottom-0 w-full h-full bg-center bg-cover bg-no-repeat -z-10">
      <img src="/NEW-ENCUESTA.jpg" alt="Encuesta" class="w-full h-full object-cover" />
      <div class="absolute inset-0 bg-black/50"></div>
    </figure>
    <div slot="content" class="relative z-10 flex flex-col items-center justify-center h-full">
      <h2 class="text-4xl font-extrabold text-white drop-shadow-lg text-center">AYÚDANOS A MEJORAR</h2>
    </div>
  </BentoCard>

  <BentoCard
    href="reports"
    class="bento-glow col-span-1 row-span-1 flex flex-col justify-end relative shadow-2xl rounded-3xl overflow-hidden hover:scale-105 transition-transform duration-300 min-h-[20rem]"
    title=""
    description=""
    gradient="to-t from-[#BC955C] to-transparent"
  >
    <figure slot="image" aria-label="Reporta un desperfecto" class="absolute left-0 top-0 bottom-0 w-full h-full bg-center bg-cover bg-no-repeat -z-10">
      <img src="/report.webp" alt="Reporta un desperfecto" class="w-full h-full object-cover" />
      <div class="absolute inset-0 bg-black/50"></div>
    </figure>
    <div slot="content" class="relative z-10 flex flex-col items-center justify-center h-full">
      <h2 class="text-4xl font-extrabold text-white drop-shadow-lg text-center">AVÍSANOS</h2>
    </div>
  </BentoCard>

  <BentoCard
    href="historical"
    class="bento-glow col-span-1 row-span-1 flex flex-col justify-end relative shadow-2xl rounded-3xl overflow-hidden hover:scale-[1.07] transition-transform duration-300 min-h-[20rem] cursor-pointer group"
    title=""
    description=""
  gradient="to-t from-[#1fa39b] to-transparent"
  >
    <figure slot="image" aria-label="Historia del malecón" class="absolute left-0 top-0 bottom-0 w-full h-full bg-center bg-cover bg-no-repeat -z-10">
      <img src="/Malecon nocturno.jpg" alt="Historia del malecón" class="w-full h-full object-cover scale-105 group-hover:scale-110 transition-transform duration-700" />
      <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-[#691C32]/80 to-transparent"></div>
    </figure>
    <div slot="content" class="relative z-10 flex flex-col items-center justify-center h-full py-4">
  <img src="/statues/historia.png" alt="Icono historia" class="w-16 h-16 mb-7 drop-shadow-lg animate-fade-in" style="object-fit:contain; margin-top:-1.2rem;" />
  <h2 class="text-3xl md:text-4xl font-extrabold text-white drop-shadow-lg text-center mb-4 tracking-wide animate-fade-in">Ecos del mar</h2>
      <div class="w-full flex justify-center animate-fade-in mb-5">
        <span class="slogan-bar wave-effect px-8 py-1 rounded-xl bg-gradient-to-r from-blue-700/80 via-blue-400/70 to-blue-700/80 text-white text-base font-semibold shadow-lg tracking-wide" style="backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px); position:relative; overflow:hidden; min-width:320px;">
          Descubre los monumentos y relatos que dan vida al malecón de La Paz
          <svg class="absolute left-0 bottom-0 w-full h-4 pointer-events-none" viewBox="0 0 100 10" preserveAspectRatio="none" style="z-index:2">
            <path d="M0 7 Q 25 0 50 7 T 100 7 V 10 H 0 Z" fill="#38bdf8" fill-opacity="0.35">
              <animate attributeName="d" dur="2.5s" repeatCount="indefinite"
                values="M0 7 Q 25 0 50 7 T 100 7 V 10 H 0 Z;
                        M0 7 Q 25 7 50 0 T 100 7 V 10 H 0 Z;
                        M0 7 Q 25 0 50 7 T 100 7 V 10 H 0 Z" />
            </path>
          </svg>
        </span>
        <style>
          .wave-effect {
            box-shadow: 0 4px 24px 0 #38bdf855;
          }
        </style>
      </div>
      <style>
        .slogan-bar {
          animation: slogan-slide-in 1.1s cubic-bezier(.4,0,.2,1) both;
        }
        @keyframes slogan-slide-in {
          from { opacity: 0; transform: translateY(-18px) scale(0.95); }
          to { opacity: 1; transform: none; }
        }
      </style>
  <span class="text-blue-200 text-sm font-semibold animate-pulse-glow mt-14">Toca para ver más</span>
      <style>
        @keyframes pulse-glow {
          0% { opacity: 0.7; text-shadow: 0 2px 8px #2563eb88; }
          50% { opacity: 1; text-shadow: 0 2px 16px #38bdf8cc; }
          100% { opacity: 0.7; text-shadow: 0 2px 8px #2563eb88; }
        }
        .animate-pulse-glow {
          animation: pulse-glow 1.8s infinite;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(16px); }
          to { opacity: 1; transform: none; }
        }
        .animate-fade-in {
          animation: fade-in 0.8s cubic-bezier(.4,0,.2,1) both;
        }
      </style>
    </div>
  </BentoCard>

  <GuiaMaleconCard client:load />

  <BentoCard
    href="galery"
    class="bento-glow col-span-1 row-span-1 flex flex-col justify-end relative shadow-2xl rounded-3xl overflow-hidden hover:scale-105 transition-transform duration-300 min-h-[20rem]"
    title=""
    description=""
    gradient="to-t from-[#404040] to-transparent"
  >
    <div slot="content" class="w-full h-full flex flex-col items-center justify-center relative">
      <ImageCarousel
        client:load
        images={[
          '/Galeria/AA.jpg',
          '/Galeria/sea2.jpg',
          '/Galeria/malecon2.jpg',
          '/Galeria/whale.jpg',
          '/Galeria/sun.jpg',
          '/Galeria/night.jpg'
        ]}
        interval={1800}
        alt="Galería slider"
      />
      <div
        class="absolute bottom-1 left-1/2 -translate-x-1/2 z-30 w-[90%] max-w-[95vw] overflow-hidden rounded-xl"
  style="background:rgba(30,41,59,0.85);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);box-shadow:0 2px 16px 0 rgba(0,0,0,0.18);"
      >
  <div class="marquee whitespace-nowrap py-2 px-4 text-white text-base font-semibold drop-shadow text-center">
          <span>
            Cada foto, una emoción &nbsp;•&nbsp; Cada foto, una emoción &nbsp;•&nbsp; Cada foto, una emoción &nbsp;•&nbsp;
          </span>
        </div>
        <style>
          .marquee {
            display: block;
            width: 100%;
            animation: marquee-move 12s linear infinite;
          }
          @keyframes marquee-move {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-50%); }
          }
        </style>
      </div>
    </div>
  </BentoCard>

  <div class="bento-glow col-span-1 row-span-1 flex flex-col justify-end items-center shadow-2xl rounded-3xl overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900 min-h-[20rem] relative">
    <div class="w-full h-full flex flex-col items-center justify-end relative">
      <ImageCarousel
        client:load
        images={["/bcs_logo.png", "/api_logo.png", "/m-lapaz.png"]}
        interval={2500}
        alt="Logo institucional"
        slogans={["H. XVIII AYUNTAMIENTO DEL MUNICIPIO DE LA PAZ B.C.S. 2024-2027", "¡Disfruta y cuida el malecón!", "COMPROMETIDOS CON LA COMUNIDAD"]}
      />
    </div>
  </div>

  <div class="bento-glow col-span-1 row-span-1 flex flex-col justify-center items-center shadow-2xl rounded-3xl overflow-hidden bg-gradient-to-br from-blue-400 to-blue-700 min-h-[20rem] relative">
    <WeatherCard client:load />
  </div>

  <div class="bento-glow col-span-1 row-span-1 flex flex-col justify-center items-center shadow-2xl rounded-3xl overflow-hidden bg-gray-600 min-h-[20rem] relative">
    <EventosCard client:load />
  </div>

  <div class="bento-glow col-span-1 row-span-1 flex flex-col justify-center items-center shadow-2xl rounded-3xl overflow-hidden bg-gradient-to-br from-gray-700 to-gray-900 min-h-[20rem] relative" style="z-index:0">
    <div class="flex flex-col items-center justify-center h-full w-full p-6">
      <h2 class="text-2xl font-bold text-white text-center mb-2">Redes Sociales</h2>
      <div class="flex flex-row gap-6 mb-2">
        <a href="https://facebook.com" target="_blank" rel="noopener" aria-label="Facebook">
          <svg class="w-10 h-10 transition" fill="currentColor" viewBox="0 0 24 24">
            <path fill="#1877F3" d="M12 2.04c-5.5 0-9.96 4.46-9.96 9.96 0 4.41 3.6 8.07 8.24 8.93v-6.32h-2.48v-2.61h2.48V9.41c0-2.45 1.49-3.8 3.77-3.8 1.09 0 2.23.2 2.23.2v2.45h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.61h-2.34v6.32c4.64-.86 8.24-4.52 8.24-8.93 0-5.5-4.46-9.96-9.96-9.96z"/>
          </svg>
        </a>
        <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram">
          <svg class="w-10 h-10 transition" fill="currentColor" viewBox="0 0 24 24">
            <defs>
              <radialGradient id="ig-gradient" cx="50%" cy="50%" r="80%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="#fdf497"/>
                <stop offset="45%" stop-color="#fdf497"/>
                <stop offset="60%" stop-color="#fd5949"/>
                <stop offset="90%" stop-color="#d6249f"/>
                <stop offset="100%" stop-color="#285AEB"/>
              </radialGradient>
            </defs>
            <path fill="url(#ig-gradient)" d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5zm4.25 2.25a5.25 5.25 0 1 1-5.25 5.25a5.25 5.25 0 0 1 5.25-5.25zm0 1.5a3.75 3.75 0 1 0 3.75 3.75a3.75 3.75 0 0 0-3.75-3.75zm5.25 1.25a1 1 0 1 1-2 0a1 1 0 0 1 2 0z"/>
          </svg>
        </a>
      </div>
      <span class="text-white text-center">Síguenos en nuestras redes sociales.</span>
      <div class="flex flex-col items-center mt-2">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=http://192.168.1.71:4322/sube-tu-foto" alt="QR para subir foto" class="rounded-xl border-2 border-blue-400 shadow bg-white" width="80" height="80" loading="lazy" />
        <span class="text-xs text-center text-white bg-blue-700 px-2 py-1 rounded-lg shadow mt-1">Escanea para subir tu foto</span>
      </div>
    </div>
  </div>
</main>
